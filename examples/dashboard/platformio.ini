[env]
platform = espressif32
framework = arduino
; build_unflags=-Werror=all
monitor_filters = esp32_exception_decoder
board_build.filesystem = spiffs
monitor_speed = 115200
monitor_rts = 0
monitor_dtr = 0
upload_protocol = esptool
lib_deps = 
	ESP32Async/ESPAsyncWebServer@^3.6.10
	bblanchon/ArduinoJson@^7.4.1
	intrbiz/Crypto
	madhephaestus/ESP32Servo@^3.0.6
	https://github.com/jahrulnr/ESP32-MVC-Framework.git
build_flags = 
	-DCORE_DEBUG_LEVEL=3
	-DCONFIG_ASYNC_TCP_PRIORITY=19
	-DCONFIG_ASYNC_TCP_RUNNING_CORE=1
	-std=gnu++17


[platformio]
src_dir = ./app  ; All source and header files in src/ and subfolders are included automatically

[env:nodemcu32s]
board = nodemcu-32s
build_flags = 
	${env.build_flags}
	-DCAMERA_DISABLED

[env:esp32cam]
board = esp32cam
build_flags = 
	${env.build_flags}
	-DCAMERA_MODEL_AI_THINKER
	-DCONFIG_ASYNC_TCP_STACK_SIZE=20480
	-DBOARD_HAS_PSRAM
	-mfix-esp32-psram-cache-issue
	-mfix-esp32-psram-cache-strategy=memw
